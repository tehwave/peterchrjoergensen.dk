---
/**
 * Figure Component
 *
 * Semantic figure/figcaption wrapper for images with captions.
 * Use in MDX blog posts for proper semantic markup.
 *
 * @example
 * ```mdx
 * import Figure from '../../components/Figure.astro';
 * 
 * <Figure
 *   src="https://example.com/image.jpg"
 *   alt="Description of image"
 *   caption="Photo by Author on Unsplash"
 * />
 * ```
 */

interface Props {
	src: string;
	alt: string;
	caption?: string;
}

const { src, alt, caption } = Astro.props;
---

<figure>
	<img src={src} alt={alt} />
	{caption && <figcaption>{caption}</figcaption>}
</figure>

<style lang="scss">
	@use "../styles/variables" as *;
	@use "../styles/mixins" as *;

	figure {
		max-width: 120ch;
		width: calc(100% + 20rem);
		margin: $space-3xl -10rem;

		@include respond-to(md) {
			width: 100%;
			margin-left: 0;
			margin-right: 0;
			margin-top: $space-2xl;
			margin-bottom: $space-2xl;
		}
	}

	img {
		width: 100%;
		height: auto;
		border-radius: 24px;
		display: block;

		@include respond-to(md) {
			border-radius: 16px;
		}
	}

	figcaption {
		max-width: $max-width;
		margin: 0 auto;
		padding: $space-lg $space-xl 0;
		font-size: $font-size-sm;
		color: $color-text-muted;
		text-align: center;
		font-style: italic;

		@include respond-to(md) {
			padding: $space-md $space-lg 0;
		}
	}
</style>
